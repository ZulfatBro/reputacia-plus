<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ê–Ω–æ–Ω–∏–º–Ω—ã–π —á–∞—Ç Zulfat</title>
  <style>
    body { font-family: Arial; background: #111; color: #fff; text-align: center; }
    #chat { border: 1px solid #444; width: 400px; height: 300px; margin: 20px auto; padding: 10px; overflow-y: auto; background:#222; }
    #input { width: 300px; padding:5px; }
    #send { padding: 5px 10px; }
    p { text-align: left; }
  </style>
</head>
<body>
  <h1>üî• –ê–Ω–æ–Ω–∏–º–Ω—ã–π —á–∞—Ç Zulfat</h1>
  <div id="chat"></div>
  <input id="input" type="text" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ">
  <button id="send">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-database.js"></script>

  <script>
    // –ö–æ–Ω—Ñ–∏–≥ Firebase
    const firebaseConfig = {
      apiKey: "BGGMpn8F66tOHR2q8BJDwEQtpoAV-nxysmwpMyBQlPLVciyYFQm4MdeZmAyJa2oi_ByB8-Cq--fDBKcvg2OoqPc",
      authDomain: "zulfat-9615a.firebaseapp.com",
      databaseURL: "https://zulfat-9615a-default-rtdb.firebaseio.com",
      projectId: "zulfat-9615a",
      storageBucket: "zulfat-9615a.appspot.com",
      messagingSenderId: "399179660422",
      appId: "1:399179660422:web:e7bba9be2688ac49bf2507"
    };

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Firebase
    const app = firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    const chat = document.getElementById("chat");
    const input = document.getElementById("input");
    const sendBtn = document.getElementById("send");

    // –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è –¥–ª—è —é–∑–µ—Ä–∞
    const username = "User" + Math.floor(Math.random() * 1000);

    // –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
    sendBtn.onclick = () => {
      const msg = input.value;
      if (msg.trim()) {
        db.ref("messages").push({ user: username, text: msg });
        input.value = "";
      }
    };

    // –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
    db.ref("messages").on("child_added", snapshot => {
      const data = snapshot.val();
      const p = document.createElement("p");
      p.textContent = data.user + ": " + data.text;
      chat.appendChild(p);
      chat.scrollTop = chat.scrollHeight;
    });
  </script>
</body>
</html>
